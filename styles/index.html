<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Styles - PlotlyJS.jl</title>
      
      
      
      
        <meta name="author" content="Spencer Lyon">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="PlotlyJS.jl">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="PlotlyJS.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-21e06ffc21.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    
      <link rel="stylesheet" href="../css/github.css">
    
    <script src="../assets/javascripts/modernizr-4a5cc7e01e.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                User Guide <i class="icon icon-link"></i>
              
            
          </span>
        
        Styles
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/sglyon" title="@sglyon on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/sglyon/PlotlyJS.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>PlotlyJS.jl 0.6.0</strong>
        
          <br>
          sglyon/PlotlyJS.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/sglyon/PlotlyJS.jl/archive/0.6.0.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/sglyon/PlotlyJS.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <span class="section">User Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Preliminaries" href="../basics/">
      Preliminaries
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Building Blocks" href="../building_traces_layouts/">
      Building Blocks
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Putting it together" href="../syncplots/">
      Putting it together
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Working with plots" href="../manipulating_plots/">
      Working with plots
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Styles" href="./">
      Styles
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Defining Styles" href="#defining-styles">
                Defining Styles
              </a>
            </li>
          
            <li class="anchor">
              <a title="Using Styles" href="#using-styles">
                Using Styles
              </a>
            </li>
          
            <li class="anchor">
              <a title="Built in Styles" href="#built-in-styles">
                Built in Styles
              </a>
            </li>
          
            <li class="anchor">
              <a title="Appendix: How Styles work" href="#appendix-how-styles-work">
                Appendix: How Styles work
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Contributing" href="../contributing/">
      Contributing
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Examples</span>
    <ul>
      
        
  <li>
    <a class="" title="3d" href="../examples/3d/">
      3d
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Area" href="../examples/area/">
      Area
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Box plots" href="../examples/box_plots/">
      Box plots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Bar" href="../examples/bar/">
      Bar
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contour" href="../examples/contour/">
      Contour
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Finance" href="../examples/finance/">
      Finance
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Histograms" href="../examples/histograms/">
      Histograms
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Line scatter" href="../examples/line_scatter/">
      Line scatter
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Time series" href="../examples/time_series/">
      Time series
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Maps" href="../examples/maps/">
      Maps
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Ternary" href="../examples/ternary/">
      Ternary
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Subplots" href="../examples/subplots/">
      Subplots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Shapes" href="../examples/shapes/">
      Shapes
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/sglyon" target="_blank" title="@sglyon on GitHub">
                  @sglyon on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Styles</h1>
          
          <p>Starting with v0.4.0, PlotlyJS.jl now has support for styles. A style is
defined as an instance of the following type:</p>
<pre class="codehilite"><code class="language-julia">immutable Style
    color_cycle::Vector
    layout::Layout
    global_trace::PlotlyAttribute
    trace::Dict{Symbol,PlotlyAttribute}
end</code></pre>


<p>Let's go over the fields one by one:</p>
<ul>
<li><code>color_cycle</code>: A vector of color-like objects that defines a sequence of
colors to be applied to the <code>marker.color</code> attribute of a trace</li>
<li><code>layout</code>: A <code>Layout</code> object defining style attributes for the layout</li>
<li><code>global_trace</code>: A <code>PlotlyAttribute</code> (created with the <code>attr</code> function) that
contains trace attributes to be applied to traces of all types</li>
<li><code>trace</code>: A dictionary mapping trace types into attributes to be applied to
that type of trace</li>
</ul>
<h2 id="defining-styles">Defining <code>Style</code>s<a class="headerlink" href="#defining-styles" title="Permanent link">¶</a></h2>
<p>There are 3 ways to define a <code>Style</code>:</p>
<h3 id="1-styles-from-scratch">1. <code>Style</code>s from scratch<a class="headerlink" href="#1-styles-from-scratch" title="Permanent link">¶</a></h3>
<p>To define a brand new style, you simply construct one or more of the fields and
assign it using the keyword argument <code>Style</code> constructor. For example, this is
how the <code>ggplot</code> style is defined (as of time of writing):</p>
<pre class="codehilite"><code class="language-julia">ggplot = let
    axis = attr(showgrid=true, gridcolor=&quot;white&quot;, linewidth=1.0,
                linecolor=&quot;white&quot;, titlefont_color=&quot;#555555&quot;,
                titlefont_size=14, ticks=&quot;outside&quot;,
                tickcolor=&quot;#555555&quot;
                )
    layout = Layout(plot_bgcolor=&quot;#E5E5E5&quot;,
                    paper_bgcolor=&quot;white&quot;,
                    font_size=10,
                    xaxis=axis,
                    yaxis=axis,
                    titlefont_size=14)

    gta = attr(marker_line_width=0.5, marker_line_color=&quot;#348ABD&quot;)

    colors = [&quot;#E24A33&quot;, &quot;#348ABD&quot;, &quot;#988ED5&quot;, &quot;#777777&quot;, &quot;#FBC15E&quot;,
              &quot;#8EBA42&quot;, &quot;#FFB5B8&quot;]
    Style(layout=layout, color_cycle=colors, global_trace=gta)
end</code></pre>


<p>When displayed in the REPL we see the following:</p>
<pre class="codehilite"><code>Style with:
  - color_cycle: String[&quot;#E24A33&quot;,&quot;#348ABD&quot;,&quot;#988ED5&quot;,&quot;#777777&quot;,&quot;#FBC15E&quot;,&quot;#8EBA42&quot;,&quot;#FFB5B8&quot;]
  - layout with fields font, margin, paper_bgcolor, plot_bgcolor, titlefont, xaxis, and yaxis
  - global_trace: PlotlyAttribute with field marker</code></pre>


<p>Notice that we didn't have to define the <code>trace</code> field. When building new
<code>Style</code>s you only need to define the fields of the <code>Style</code> type that you
actually use in your style.</p>
<h3 id="2-from-other-styles">2. From other <code>Style</code>s<a class="headerlink" href="#2-from-other-styles" title="Permanent link">¶</a></h3>
<p>The second approach is to define a new <code>Style</code>, starting from an existing
style. Suppose that I liked the <code>ggplot</code> style, but wanted to make sure that
the marker symbol on scatter traces was always a square. I could define the
following style:</p>
<pre class="codehilite"><code class="language-julia">square_ggplot = Style(ggplot,
                      trace=Dict(:scatter =&gt; attr(marker_symbol=&quot;square&quot;)))</code></pre>


<p>When displayed in the REPL we see the following:</p>
<pre class="codehilite"><code>Style with:
  - color_cycle: String[&quot;#E24A33&quot;,&quot;#348ABD&quot;,&quot;#988ED5&quot;,&quot;#777777&quot;,&quot;#FBC15E&quot;,&quot;#8EBA42&quot;,&quot;#FFB5B8&quot;]
  - layout with fields font, margin, paper_bgcolor, plot_bgcolor, titlefont, xaxis, and yaxis
  - global_trace: PlotlyAttribute with field marker
  - trace:
    - scatter: PlotlyAttribute with field marker</code></pre>


<p>Notice that all the information for <code>color_cycle</code>, <code>layout</code> and <code>global_trace</code>
is the same as in the <code>ggplot</code> case above, but we now have the addition of
another section for the <code>trace</code> field as it is no longer empty.</p>
<h3 id="3-composition">3. Composition<a class="headerlink" href="#3-composition" title="Permanent link">¶</a></h3>
<p>The final method for constructing new <code>Style</code>s is to compose existing styles.</p>
<p>Suppose that we want the ability to easily change the font size on the plot
title to be large, say at a level of 20. We might want to apply this
transformation to multiple existing styles. One way we could achieve this is by
defining</p>
<pre class="codehilite"><code class="language-julia">big_title = Style(layout=Layout(titlefont_size=20))</code></pre>


<p>and then composing <code>big_title</code> with an existing <code>Style</code> (e.g. <code>ggplot</code> from
above) by calling</p>
<pre class="codehilite"><code class="language-julia">big_ggplot = Style(ggplot, big_title)</code></pre>


<p>It is important that we put <code>big_title</code> <em>after</em> <code>ggplot</code> as the composing
<code>Style</code> constructor has the same behavior as the function <code>Base.merge</code> where
fields that appear in both the left and right arguments are set to the value of
the rightmost appearance.</p>
<p>The only thing we've gained over method number 2 for defining styles is that we
can now reuse the <code>big_title</code> <code>Style</code> as many times as we'd like. This is
great, but doesn't actually show off the power of composing <code>Style</code>s.
Composition becomes more powerful when you use more than two styles. Consider
the following example:</p>
<pre class="codehilite"><code class="language-julia">square = Style(trace=Dict(:scatter =&gt; attr(marker_symbol=&quot;square&quot;)))
big_square_ggplot = Style(ggplot, square, big_title)</code></pre>


<p>Here the order of <code>square</code> and <code>big_title</code> was not important as they don't
define any of the same attributes.</p>
<h2 id="using-styles">Using <code>Style</code>s<a class="headerlink" href="#using-styles" title="Permanent link">¶</a></h2>
<p>Now that we know how to build a <code>Style</code>, how do we use it?. There are two main
ways to use a <code>Style</code>:</p>
<ul>
<li>Global mode: call the <code>use_style!(::Style)</code> function to set a global style
for all <em>subsequent</em> plots (styles are not applied retroactively to plots that
were created before this function is called).</li>
<li>Plot by plot mode: All methods of the <code>plot</code> and <code>Plot</code> functions accept a
keyword argument <code>style::Style</code> that sets the style for that plot only.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Styles do not transfer to parent plots when creating subplots. If you want
to apply a <code>Style</code> to a plot containing subplots you must either use the
global mode or construct the plot and set the <code>style</code> field on the parent
after subplots are created (e.g. <code>p = [p1 p2]; p.style=ggplot</code>, where
<code>ggplot</code> is defined as above)</p>
</div>
<h2 id="built-in-styles">Built in <code>Style</code>s<a class="headerlink" href="#built-in-styles" title="Permanent link">¶</a></h2>
<p>There are a few built in styles that come with PlotlyJS.jl. More will be added
over time. To see which styles are currently built in look at the unexported
<code>PlotlyJS.STYLES</code> variable.</p>
<p>To obtain a built in style use the method <code>Style(s::Symbol)</code>, where <code>s</code> is one
of the symbols in <code>PlotlyJS.STYLES</code>.</p>
<p>To use a built in style globally use the method <code>use_style!(s::Symbol)</code>, where
again <code>s</code> is a symbol from <code>PlotlyJS.STYLES</code>.</p>
<h2 id="appendix-how-styles-work">Appendix: How <code>Style</code>s work<a class="headerlink" href="#appendix-how-styles-work" title="Permanent link">¶</a></h2>
<p>The best way to think about styles is that they will apply default values for
attributes, only if the attribute is not already defined. For example, suppose
we had the following style:</p>
<pre class="codehilite"><code class="language-julia">goofy = Style(global_trace=attr(marker_color=&quot;red&quot;),
              trace=Dict(:scatter =&gt; attr(mode=&quot;markers&quot;)))</code></pre>


<p>two plots:</p>
<pre class="codehilite"><code class="language-julia">p1 = plot(scatter(y=1:3, mode=&quot;lines&quot;, marker_symbol=&quot;square&quot;), style=goofy)
p2 = plot(scatter(y=1:3, marker_color=&quot;green&quot;), style=goofy)</code></pre>


<p>If we inspect the json from these two plots we see:</p>
<pre class="codehilite"><code>julia&gt; print(json(p1, 2))
{
  &quot;layout&quot;: {
    &quot;margin&quot;: {
      &quot;r&quot;: 50,
      &quot;l&quot;: 50,
      &quot;b&quot;: 50,
      &quot;t&quot;: 60
    }
  },
  &quot;data&quot;: [
    {
      &quot;y&quot;: [
        1,
        2,
        3
      ],
      &quot;type&quot;: &quot;scatter&quot;,
      &quot;mode&quot;: &quot;lines&quot;,
      &quot;marker&quot;: {
        &quot;symbol&quot;: &quot;square&quot;,
        &quot;color&quot;: &quot;red&quot;
      }
    }
  ]
}

julia&gt; print(json(p2, 2))
{
  &quot;layout&quot;: {
    &quot;margin&quot;: {
      &quot;r&quot;: 50,
      &quot;l&quot;: 50,
      &quot;b&quot;: 50,
      &quot;t&quot;: 60
    }
  },
  &quot;data&quot;: [
    {
      &quot;y&quot;: [
        1,
        2,
        3
      ],
      &quot;type&quot;: &quot;scatter&quot;,
      &quot;marker&quot;: {
        &quot;color&quot;: &quot;green&quot;
      },
      &quot;mode&quot;: &quot;markers&quot;
    }
  ]
}</code></pre>


<p>Notice that on p1:</p>
<ul>
<li>the <code>marker.color</code> attribute was set to red</li>
<li><code>marker.symbol</code> remained square</li>
<li><code>mode</code> was not changed from <code>lines</code> to <code>markers</code>.</li>
</ul>
<p>On the other hand, in <code>p2</code> we see that the</p>
<ul>
<li><code>mode</code> was set to <code>markers</code></li>
<li><code>marker.color</code> was not changed from green to red</li>
</ul>
<p>This happened because the scatter in p1 defined the <code>mode</code> attribute, but not
<code>marker_color</code> whereas the scatter in p2 defined <code>marker_color</code> but not <code>mode</code>.
In both cases the attributes inside the <code>Style</code> became a default value for
fields that were not already set inside the trace.</p>
          <aside class="copyright" role="note">
            
              Copyright &copy; 2016 <a href="http://spencerlyon.com/">Spencer Lyon</a> &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../manipulating_plots/" title="Working with plots">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Working with plots
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../contributing/" title="Contributing">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Contributing
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'sglyon/PlotlyJS.jl';
    </script>
    <script src="../assets/javascripts/application-dfb6964a49.js"></script>
    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
        /* General initialization */
        ga('create', 'UA-36732392-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
        /* Track outbound links */
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
        /* Register handler to log search on blur */
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    
  </body>
</html>