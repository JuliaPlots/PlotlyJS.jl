<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Building Blocks - PlotlyJS.jl</title>
      
      
      
      
        <meta name="author" content="Spencer Lyon">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="PlotlyJS.jl">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="PlotlyJS.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-21e06ffc21.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    
      <link rel="stylesheet" href="../css/github.css">
    
    <script src="../assets/javascripts/modernizr-4a5cc7e01e.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                User Guide <i class="icon icon-link"></i>
              
            
          </span>
        
        Building Blocks
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/sglyon" title="@sglyon on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/sglyon/PlotlyJS.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>PlotlyJS.jl 0.9.0</strong>
        
          <br>
          sglyon/PlotlyJS.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/sglyon/PlotlyJS.jl/archive/0.9.0.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/sglyon/PlotlyJS.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <span class="section">User Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Preliminaries" href="../basics/">
      Preliminaries
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Building Blocks" href="./">
      Building Blocks
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Traces" href="#traces">
                Traces
              </a>
            </li>
          
            <li class="anchor">
              <a title="Layouts" href="#layouts">
                Layouts
              </a>
            </li>
          
            <li class="anchor">
              <a title="attr" href="#attr">
                attr
              </a>
            </li>
          
            <li class="anchor">
              <a title="Using DataFrames" href="#using-dataframes">
                Using DataFrames
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Putting it together" href="../syncplots/">
      Putting it together
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Working with plots" href="../manipulating_plots/">
      Working with plots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Styles" href="../styles/">
      Styles
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contributing" href="../contributing/">
      Contributing
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Examples</span>
    <ul>
      
        
  <li>
    <a class="" title="3d" href="../examples/3d/">
      3d
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Area" href="../examples/area/">
      Area
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Bar" href="../examples/bar/">
      Bar
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Box plots" href="../examples/box_plots/">
      Box plots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contour" href="../examples/contour/">
      Contour
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Finance" href="../examples/finance/">
      Finance
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Heatmaps" href="../examples/heatmaps/">
      Heatmaps
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Histograms" href="../examples/histograms/">
      Histograms
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Line scatter" href="../examples/line_scatter/">
      Line scatter
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Maps" href="../examples/maps/">
      Maps
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Shapes" href="../examples/shapes/">
      Shapes
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Subplots" href="../examples/subplots/">
      Subplots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Tables" href="../examples/tables/">
      Tables
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Ternary" href="../examples/ternary/">
      Ternary
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Time series" href="../examples/time_series/">
      Time series
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Violin" href="../examples/violin/">
      Violin
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/sglyon" target="_blank" title="@sglyon on GitHub">
                  @sglyon on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Building Blocks</h1>
          
          <p>Recall that the <code>Plotly.newPlot</code> javascript function expects to receive an
array of <code>trace</code> objects and, optionally, a <code>layout</code> object. In this section we
will learn how to build these object in Julia.  </p>
<h2 id="traces">Traces<a class="headerlink" href="#traces" title="Permanent link">¶</a></h2>
<p>A <code>Plot</code> instance will have a vector of <code>trace</code>s. These should each be a subtype of <code>AbstractTrace</code>.</p>
<p>PlotlyJS.jl defines one such subtype:</p>
<div class="codehilite"><pre><span></span><span class="k">type</span> <span class="n">GenericTrace</span><span class="p">{</span><span class="n">T</span><span class="o">&lt;:</span><span class="kt">Associative</span><span class="p">{</span><span class="kt">Symbol</span><span class="p">,</span><span class="kt">Any</span><span class="p">}}</span> <span class="o">&lt;:</span> <span class="n">AbstractTrace</span>
    <span class="n">kind</span><span class="o">::</span><span class="kt">ASCIIString</span>
    <span class="n">fields</span><span class="o">::</span><span class="n">T</span>
<span class="k">end</span>
</pre></div>


<p>The <code>kind</code> field specifies the type of trace and the <code>fields</code> is an Associative object that maps trace attributes to their values.</p>
<p>Let's consider an example. Suppose we would like to build the following JSON
object:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;scatter&quot;</span><span class="p">,</span>
  <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
  <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
  <span class="nt">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;markers+text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Team A&quot;</span><span class="p">,</span>
  <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A-1&quot;</span><span class="p">,</span> <span class="s2">&quot;A-2&quot;</span><span class="p">,</span> <span class="s2">&quot;A-3&quot;</span><span class="p">,</span> <span class="s2">&quot;A-4&quot;</span><span class="p">,</span> <span class="s2">&quot;A-5&quot;</span><span class="p">],</span>
  <span class="nt">&quot;textposition&quot;</span><span class="p">:</span> <span class="s2">&quot;top center&quot;</span><span class="p">,</span>
  <span class="nt">&quot;textfont&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;family&quot;</span><span class="p">:</span>  <span class="s2">&quot;Raleway, sans-serif&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;marker&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">12</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>One way to do this in Julia is:</p>
<div class="codehilite"><pre><span></span><span class="n">fields</span> <span class="o">=</span> <span class="kt">Dict</span><span class="p">{</span><span class="kt">Symbol</span><span class="p">,</span><span class="kt">Any</span><span class="p">}(</span><span class="o">:</span><span class="k">type</span> <span class="o">=&gt;</span> <span class="s">&quot;scatter&quot;</span><span class="p">,</span>
                          <span class="o">:</span><span class="n">x</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
                          <span class="o">:</span><span class="n">y</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
                          <span class="o">:</span><span class="n">mode</span> <span class="o">=&gt;</span> <span class="s">&quot;markers+text&quot;</span><span class="p">,</span>
                          <span class="o">:</span><span class="n">name</span> <span class="o">=&gt;</span> <span class="s">&quot;Team A&quot;</span><span class="p">,</span>
                          <span class="o">:</span><span class="n">text</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s">&quot;A-1&quot;</span><span class="p">,</span> <span class="s">&quot;A-2&quot;</span><span class="p">,</span> <span class="s">&quot;A-3&quot;</span><span class="p">,</span> <span class="s">&quot;A-4&quot;</span><span class="p">,</span> <span class="s">&quot;A-5&quot;</span><span class="p">],</span>
                          <span class="o">:</span><span class="n">textposition</span> <span class="o">=&gt;</span> <span class="s">&quot;top center&quot;</span><span class="p">,</span>
                          <span class="o">:</span><span class="n">textfont</span> <span class="o">=&gt;</span> <span class="kt">Dict</span><span class="p">(</span><span class="o">:</span><span class="n">family</span> <span class="o">=&gt;</span>  <span class="s">&quot;Raleway, sans-serif&quot;</span><span class="p">),</span>
                          <span class="o">:</span><span class="n">marker</span> <span class="o">=&gt;</span> <span class="kt">Dict</span><span class="p">(</span><span class="o">:</span><span class="n">size</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">GenericTrace</span><span class="p">(</span><span class="s">&quot;scatter&quot;</span><span class="p">,</span> <span class="n">fields</span><span class="p">)</span>
</pre></div>


<p>A more convenient syntax is:</p>
<div class="codehilite"><pre><span></span><span class="n">t1</span> <span class="o">=</span> <span class="n">scatter</span><span class="p">(;</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
              <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
              <span class="n">mode</span><span class="o">=</span><span class="s">&quot;markers+text&quot;</span><span class="p">,</span>
              <span class="n">name</span><span class="o">=</span><span class="s">&quot;Team A&quot;</span><span class="p">,</span>
              <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;A-1&quot;</span><span class="p">,</span> <span class="s">&quot;A-2&quot;</span><span class="p">,</span> <span class="s">&quot;A-3&quot;</span><span class="p">,</span> <span class="s">&quot;A-4&quot;</span><span class="p">,</span> <span class="s">&quot;A-5&quot;</span><span class="p">],</span>
              <span class="n">textposition</span><span class="o">=</span><span class="s">&quot;top center&quot;</span><span class="p">,</span>
              <span class="n">textfont_family</span><span class="o">=</span><span class="s">&quot;Raleway, sans-serif&quot;</span><span class="p">,</span>
              <span class="n">marker_size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>


<p>Notice a few things:</p>
<ul>
<li>The trace <code>type</code> became the function name. There is a similar method for all
plotly.js traces types.</li>
<li>All other trace attributes were set using keyword arguments. This allows us
to avoid typing out the symbol prefix (<code>:</code>) and the arrows (<code>=&gt;</code>) that were
necessary when constructing the <code>Dict</code></li>
<li>We can set nested attributes using underscores. Notice that the JSON
<code>"marker": { "size": 12 }</code> was written <code>marker_size=12</code>.</li>
</ul>
<p>We can verify that this is indeed equivalent JSON by printing the JSON obtained
from <code>JSON.json(t1, 2)</code> which is (note the order of the attributes is different,
but the content is identical):</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;scatter&quot;</span><span class="p">,</span>
  <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">,</span>
    <span class="mi">6</span><span class="p">,</span>
    <span class="mi">1</span>
  <span class="p">],</span>
  <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;A-1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;A-2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;A-3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;A-4&quot;</span><span class="p">,</span>
    <span class="s2">&quot;A-5&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;textfont&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;family&quot;</span><span class="p">:</span> <span class="s2">&quot;Raleway, sans-serif&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Team A&quot;</span><span class="p">,</span>
  <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">,</span>
    <span class="mi">4</span><span class="p">,</span>
    <span class="mi">5</span>
  <span class="p">],</span>
  <span class="nt">&quot;textposition&quot;</span><span class="p">:</span> <span class="s2">&quot;top center&quot;</span><span class="p">,</span>
  <span class="nt">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;markers+text&quot;</span><span class="p">,</span>
  <span class="nt">&quot;marker&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">12</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="accessing-attributes">Accessing attributes<a class="headerlink" href="#accessing-attributes" title="Permanent link">¶</a></h3>
<p>If we then wanted to extract a particular attribute, we can do so using
<code>getindex(t1, :attrname)</code>, or the syntactic sugar <code>t1[:attrname]</code>. Note that
both symbols and strings can be used in a call to <code>getindex</code>:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">t1</span><span class="p">[</span><span class="s">&quot;marker&quot;</span><span class="p">]</span>
<span class="go">Dict{Any,Any} with 1 entry:</span>
<span class="go">  :size =&gt; 12</span>

<span class="gp">julia&gt;</span> <span class="n">t1</span><span class="p">[</span><span class="o">:</span><span class="n">marker</span><span class="p">]</span>
<span class="go">Dict{Any,Any} with 1 entry:</span>
<span class="go">  :size =&gt; 12</span>
</pre></div>


<p>To access a nested property use <code>parent.child</code></p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">t1</span><span class="p">[</span><span class="s">&quot;textfont.family&quot;</span><span class="p">]</span>
<span class="go">&quot;Raleway, sans-serif&quot;</span>
</pre></div>


<h3 id="setting-additional-attributes">Setting additional attributes<a class="headerlink" href="#setting-additional-attributes" title="Permanent link">¶</a></h3>
<p>We can also set additional attributes. Suppose we wanted to set <code>marker.color</code>
to be red. We can do this with a call to <code>setindex!(t1, "red", :marker_color)</code>,
or equivalently <code>t1["marker_color"] = "red"</code>:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">t1</span><span class="p">[</span><span class="s">&quot;marker_color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;red&quot;</span>
<span class="go">&quot;red&quot;</span>

<span class="gp">julia&gt;</span> <span class="n">println</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">{</span>
<span class="go">  &quot;type&quot;: &quot;scatter&quot;,</span>
<span class="go">  &quot;y&quot;: [</span>
<span class="go">    1,</span>
<span class="go">    6,</span>
<span class="go">    3,</span>
<span class="go">    6,</span>
<span class="go">    1</span>
<span class="go">  ],</span>
<span class="go">  &quot;text&quot;: [</span>
<span class="go">    &quot;A-1&quot;,</span>
<span class="go">    &quot;A-2&quot;,</span>
<span class="go">    &quot;A-3&quot;,</span>
<span class="go">    &quot;A-4&quot;,</span>
<span class="go">    &quot;A-5&quot;</span>
<span class="go">  ],</span>
<span class="go">  &quot;textfont&quot;: {</span>
<span class="go">    &quot;family&quot;: &quot;Raleway, sans-serif&quot;</span>
<span class="go">  },</span>
<span class="go">  &quot;name&quot;: &quot;Team A&quot;,</span>
<span class="go">  &quot;x&quot;: [</span>
<span class="go">    1,</span>
<span class="go">    2,</span>
<span class="go">    3,</span>
<span class="go">    4,</span>
<span class="go">    5</span>
<span class="go">  ],</span>
<span class="go">  &quot;textposition&quot;: &quot;top center&quot;,</span>
<span class="go">  &quot;mode&quot;: &quot;markers+text&quot;,</span>
<span class="go">  &quot;marker&quot;: {</span>
<span class="go">    &quot;size&quot;: 12,</span>
<span class="go">    &quot;color&quot;: &quot;red&quot;</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>


<p>Notice how the <code>color</code> attribute was correctly added within the existing
<code>marker</code> attribute (alongside <code>size</code>), instead of replacing the <code>marker</code>
attribute.</p>
<p>You can also use this syntax to add completely new nested attributes:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">t1</span><span class="p">[</span><span class="s">&quot;line_width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="go">5</span>

<span class="gp">julia&gt;</span> <span class="n">println</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">{</span>
<span class="go">  &quot;type&quot;: &quot;scatter&quot;,</span>
<span class="go">  &quot;y&quot;: [</span>
<span class="go">    1,</span>
<span class="go">    6,</span>
<span class="go">    3,</span>
<span class="go">    6,</span>
<span class="go">    1</span>
<span class="go">  ],</span>
<span class="go">  &quot;text&quot;: [</span>
<span class="go">    &quot;A-1&quot;,</span>
<span class="go">    &quot;A-2&quot;,</span>
<span class="go">    &quot;A-3&quot;,</span>
<span class="go">    &quot;A-4&quot;,</span>
<span class="go">    &quot;A-5&quot;</span>
<span class="go">  ],</span>
<span class="go">  &quot;textfont&quot;: {</span>
<span class="go">    &quot;family&quot;: &quot;Raleway, sans-serif&quot;</span>
<span class="go">  },</span>
<span class="go">  &quot;name&quot;: &quot;Team A&quot;,</span>
<span class="go">  &quot;line&quot;: {</span>
<span class="go">    &quot;width&quot;: 5</span>
<span class="go">  },</span>
<span class="go">  &quot;x&quot;: [</span>
<span class="go">    1,</span>
<span class="go">    2,</span>
<span class="go">    3,</span>
<span class="go">    4,</span>
<span class="go">    5</span>
<span class="go">  ],</span>
<span class="go">  &quot;textposition&quot;: &quot;top center&quot;,</span>
<span class="go">  &quot;mode&quot;: &quot;markers+text&quot;,</span>
<span class="go">  &quot;marker&quot;: {</span>
<span class="go">    &quot;size&quot;: 12,</span>
<span class="go">    &quot;color&quot;: &quot;red&quot;</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>


<h2 id="layouts">Layouts<a class="headerlink" href="#layouts" title="Permanent link">¶</a></h2>
<p>The <code>Layout</code> type is defined as</p>
<div class="codehilite"><pre><span></span><span class="k">type</span> <span class="n">Layout</span><span class="p">{</span><span class="n">T</span><span class="o">&lt;:</span><span class="kt">Associative</span><span class="p">{</span><span class="kt">Symbol</span><span class="p">,</span><span class="kt">Any</span><span class="p">}}</span> <span class="o">&lt;:</span> <span class="n">AbstractLayout</span>
    <span class="n">fields</span><span class="o">::</span><span class="n">T</span>
<span class="k">end</span>
</pre></div>


<p>You can construct a layout using the same convenient keyword argument syntax
that we used for traces:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">l</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(;</span><span class="n">title</span><span class="o">=</span><span class="s">&quot;Penguins&quot;</span><span class="p">,</span>
                   <span class="n">xaxis_range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">42.0</span><span class="p">],</span> <span class="n">xaxis_title</span><span class="o">=</span><span class="s">&quot;fish&quot;</span><span class="p">,</span>
                   <span class="n">yaxis_title</span><span class="o">=</span><span class="s">&quot;Weight&quot;</span><span class="p">,</span>
                   <span class="n">xaxis_showgrid</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span> <span class="n">yaxis_showgrid</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span>
                   <span class="n">legend_y</span><span class="o">=</span><span class="mf">1.15</span><span class="p">,</span> <span class="n">legend_x</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="go">layout with fields legend, margin, title, xaxis, and yaxis</span>


<span class="gp">julia&gt;</span> <span class="n">println</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">{</span>
<span class="go">  &quot;yaxis&quot;: {</span>
<span class="go">    &quot;title&quot;: &quot;Weight&quot;,</span>
<span class="go">    &quot;showgrid&quot;: true</span>
<span class="go">  },</span>
<span class="go">  &quot;legend&quot;: {</span>
<span class="go">    &quot;y&quot;: 1.15,</span>
<span class="go">    &quot;x&quot;: 0.7</span>
<span class="go">  },</span>
<span class="go">  &quot;xaxis&quot;: {</span>
<span class="go">    &quot;range&quot;: [</span>
<span class="go">      0.0,</span>
<span class="go">      42.0</span>
<span class="go">    ],</span>
<span class="go">    &quot;title&quot;: &quot;fish&quot;,</span>
<span class="go">    &quot;showgrid&quot;: true</span>
<span class="go">  },</span>
<span class="go">  &quot;title&quot;: &quot;Penguins&quot;,</span>
<span class="go">  &quot;margin&quot;: {</span>
<span class="go">    &quot;r&quot;: 50,</span>
<span class="go">    &quot;l&quot;: 50,</span>
<span class="go">    &quot;b&quot;: 50,</span>
<span class="go">    &quot;t&quot;: 60</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>


<h2 id="attr"><code>attr</code><a class="headerlink" href="#attr" title="Permanent link">¶</a></h2>
<p>There is a special function named <code>attr</code> that allows you to apply the same
keyword magic we saw in the trace and layout functions, but to nested
attributes. Let's revisit the previous example, but use <code>attr</code> to build up our
<code>xaxis</code> and <code>legend</code>:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">l2</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(;</span><span class="n">title</span><span class="o">=</span><span class="s">&quot;Penguins&quot;</span><span class="p">,</span>
                    <span class="n">xaxis</span><span class="o">=</span><span class="n">attr</span><span class="p">(</span><span class="n">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">42.0</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="s">&quot;fish&quot;</span><span class="p">,</span> <span class="n">showgrid</span><span class="o">=</span><span class="kc">true</span><span class="p">),</span>
                    <span class="n">yaxis_title</span><span class="o">=</span><span class="s">&quot;Weight&quot;</span><span class="p">,</span> <span class="n">yaxis_showgrid</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span>
                    <span class="n">legend</span><span class="o">=</span><span class="n">attr</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.15</span><span class="p">))</span>
<span class="go">layout with fields legend, margin, title, xaxis, and yaxis</span>


<span class="gp">julia&gt;</span> <span class="n">println</span><span class="p">(</span><span class="n">JSON</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">l2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">{</span>
<span class="go">  &quot;yaxis&quot;: {</span>
<span class="go">    &quot;title&quot;: &quot;Weight&quot;,</span>
<span class="go">    &quot;showgrid&quot;: true</span>
<span class="go">  },</span>
<span class="go">  &quot;legend&quot;: {</span>
<span class="go">    &quot;y&quot;: 1.15,</span>
<span class="go">    &quot;x&quot;: 0.7</span>
<span class="go">  },</span>
<span class="go">  &quot;xaxis&quot;: {</span>
<span class="go">    &quot;range&quot;: [</span>
<span class="go">      0.0,</span>
<span class="go">      42.0</span>
<span class="go">    ],</span>
<span class="go">    &quot;title&quot;: &quot;fish&quot;,</span>
<span class="go">    &quot;showgrid&quot;: true</span>
<span class="go">  },</span>
<span class="go">  &quot;title&quot;: &quot;Penguins&quot;,</span>
<span class="go">  &quot;margin&quot;: {</span>
<span class="go">    &quot;r&quot;: 50,</span>
<span class="go">    &quot;l&quot;: 50,</span>
<span class="go">    &quot;b&quot;: 50,</span>
<span class="go">    &quot;t&quot;: 60</span>
<span class="go">  }</span>
<span class="go">}</span>
</pre></div>


<p>Notice we got the exact same output as before, but we didn't have to resort to
building the <code>Dict</code> by hand <em>or</em> prefixing multiple arguments with <code>xaxis_</code> or
<code>legend_</code>.</p>
<h2 id="using-dataframes">Using <code>DataFrame</code>s<a class="headerlink" href="#using-dataframes" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>New in version 0.6.0</p>
</div>
<p>You can also construct traces using the columns of any subtype of
<code>AbstractDataFrame</code> (e.g. the <code>DataFrame</code> type from DataFrames.jl).</p>
<p>To demonstrate this functionality let's load the famous iris data set:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="k">using</span> <span class="n">DataFrames</span><span class="p">,</span> <span class="n">RDatasets</span>

<span class="gp">julia&gt;</span> <span class="n">iris</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;datasets&quot;</span><span class="p">,</span> <span class="s">&quot;iris&quot;</span><span class="p">);</span>

<span class="gp">julia&gt;</span> <span class="n">head</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="go">6×5 DataFrames.DataFrame</span>
<span class="go">│ Row │ SepalLength │ SepalWidth │ PetalLength │ PetalWidth │ Species  │</span>
<span class="go">├─────┼─────────────┼────────────┼─────────────┼────────────┼──────────┤</span>
<span class="go">│ 1   │ 5.1         │ 3.5        │ 1.4         │ 0.2        │ &quot;setosa&quot; │</span>
<span class="go">│ 2   │ 4.9         │ 3.0        │ 1.4         │ 0.2        │ &quot;setosa&quot; │</span>
<span class="go">│ 3   │ 4.7         │ 3.2        │ 1.3         │ 0.2        │ &quot;setosa&quot; │</span>
<span class="go">│ 4   │ 4.6         │ 3.1        │ 1.5         │ 0.2        │ &quot;setosa&quot; │</span>
<span class="go">│ 5   │ 5.0         │ 3.6        │ 1.4         │ 0.2        │ &quot;setosa&quot; │</span>
<span class="go">│ 6   │ 5.4         │ 3.9        │ 1.7         │ 0.4        │ &quot;setosa&quot; │</span>
</pre></div>


<p>Suppose that we wanted to construct a scatter trace with the  <code>SepalLength</code>
column as the x variable and the <code>SepalWidth</code> columns as the y variable. We
do this by calling</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="n">my_trace</span> <span class="o">=</span> <span class="n">scatter</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="n">x</span><span class="o">=:</span><span class="n">SepalLength</span><span class="p">,</span> <span class="n">y</span><span class="o">=:</span><span class="n">SepalWidth</span><span class="p">,</span> <span class="n">marker_color</span><span class="o">=:</span><span class="n">red</span><span class="p">)</span>
<span class="go">scatter with fields marker, type, x, and y</span>

<span class="gp">julia&gt;</span> <span class="p">[</span><span class="n">my_trace</span><span class="p">[</span><span class="o">:</span><span class="n">x</span><span class="p">][</span><span class="mi">1</span><span class="o">:</span><span class="mi">5</span><span class="p">]</span> <span class="n">my_trace</span><span class="p">[</span><span class="o">:</span><span class="n">y</span><span class="p">][</span><span class="mi">1</span><span class="o">:</span><span class="mi">5</span><span class="p">]]</span>
<span class="go">5×2 DataArrays.DataArray{Float64,2}:</span>
<span class="go"> 5.1  3.5</span>
<span class="go"> 4.9  3.0</span>
<span class="go"> 4.7  3.2</span>
<span class="go"> 4.6  3.1</span>
<span class="go"> 5.0  3.6</span>

<span class="gp">julia&gt;</span> <span class="n">my_trace</span><span class="p">[</span><span class="o">:</span><span class="n">marker_color</span><span class="p">]</span>
<span class="go">:red</span>
</pre></div>


<p>How does this work? The basic rule is that if the value of any keyword argument
is a Julia Symbol (i.e. created with <code>:something</code>), then the function creating
the trace checks if that symbol is one of the column names in the DataFrame.
If so, it extracts the column from the DataFrame and sets that as the value
for the keyword argument. Otherwise it passes the symbol directly through.</p>
<p>In the above example, when we constructed <code>my_trace</code> the value of the keyword
argument <code>x</code> was set to the Symbol <code>:SepalLength</code>. This did match a column name
from <code>iris</code> so that column was extracted and replaced <code>:SepalLength</code> as the
value for the <code>x</code> argument. The same holds for <code>y</code> and <code>SepalWidth</code>.</p>
<p>However, when setting <code>marker_color=:red</code> we found that <code>:red</code> is not one of
the column names, so the value for the <code>marker_color</code> keyword argument remained
<code>:red</code>.</p>
<p>The DataFrame interface becomes more useful when constructing whole plots. See
the <a href="../syncplots/#convenience-methods">convenience methods</a> section of the
documentation for more information.</p>
          <aside class="copyright" role="note">
            
              Copyright &copy; 2016 <a href="http://spencerlyon.com/">Spencer Lyon</a> &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../basics/" title="Preliminaries">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Preliminaries
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../syncplots/" title="Putting it together">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Putting it together
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'sglyon/PlotlyJS.jl';
    </script>
    <script src="../assets/javascripts/application-dfb6964a49.js"></script>
    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
        /* General initialization */
        ga('create', 'UA-36732392-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
        /* Track outbound links */
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
        /* Register handler to log search on blur */
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    
  </body>
</html>