<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Putting it together - PlotlyJS.jl</title>
      
      
      
      
        <meta name="author" content="Spencer Lyon">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="PlotlyJS.jl">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="PlotlyJS.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-21e06ffc21.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    
      <link rel="stylesheet" href="../css/github.css">
    
    <script src="../assets/javascripts/modernizr-4a5cc7e01e.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                User Guide <i class="icon icon-link"></i>
              
            
          </span>
        
        Putting it together
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/sglyon" title="@sglyon on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/sglyon/PlotlyJS.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>PlotlyJS.jl 0.6.0</strong>
        
          <br>
          sglyon/PlotlyJS.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/sglyon/PlotlyJS.jl/archive/0.6.0.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/sglyon/PlotlyJS.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <span class="section">User Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Preliminaries" href="../basics/">
      Preliminaries
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Building Blocks" href="../building_traces_layouts/">
      Building Blocks
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Putting it together" href="./">
      Putting it together
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Plot" href="#plot">
                Plot
              </a>
            </li>
          
            <li class="anchor">
              <a title="SyncPlots" href="#syncplots">
                SyncPlots
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="Working with plots" href="../manipulating_plots/">
      Working with plots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Styles" href="../styles/">
      Styles
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contributing" href="../contributing/">
      Contributing
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Examples</span>
    <ul>
      
        
  <li>
    <a class="" title="3d" href="../examples/3d/">
      3d
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Area" href="../examples/area/">
      Area
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Box plots" href="../examples/box_plots/">
      Box plots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Bar" href="../examples/bar/">
      Bar
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Contour" href="../examples/contour/">
      Contour
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Finance" href="../examples/finance/">
      Finance
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Histograms" href="../examples/histograms/">
      Histograms
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Line scatter" href="../examples/line_scatter/">
      Line scatter
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Time series" href="../examples/time_series/">
      Time series
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Maps" href="../examples/maps/">
      Maps
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Ternary" href="../examples/ternary/">
      Ternary
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Subplots" href="../examples/subplots/">
      Subplots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Shapes" href="../examples/shapes/">
      Shapes
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/sglyon" target="_blank" title="@sglyon on GitHub">
                  @sglyon on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Putting it together</h1>
          
          <p>We will now look at how to combine traces and a layout to create a plot.</p>
<p>We'll also discuss how to integrate with various frontends</p>
<h2 id="plot"><code>Plot</code><a class="headerlink" href="#plot" title="Permanent link">¶</a></h2>
<p>Recall that the definition of the <code>Plot</code> object is</p>
<div class="codehilite"><pre><span></span><span class="k">type</span> <span class="n">Plot</span><span class="p">{</span><span class="n">TT</span><span class="o">&lt;:</span><span class="n">AbstractTrace</span><span class="p">}</span>
    <span class="n">data</span><span class="o">::</span><span class="kt">Vector</span><span class="p">{</span><span class="n">TT</span><span class="p">}</span>
    <span class="n">layout</span><span class="o">::</span><span class="n">AbstractLayout</span>
    <span class="n">divid</span><span class="o">::</span><span class="n">Base</span><span class="o">.</span><span class="n">Random</span><span class="o">.</span><span class="n">UUID</span>
<span class="k">end</span>
</pre></div>


<p>Given one or more <code>AbstractTrace</code>s and optionally a <code>layout</code>, we construct a
<code>Plot</code> object with any of the following constructors</p>
<div class="codehilite"><pre><span></span><span class="c"># A blank canvas no traces or a layout</span>
<span class="n">Plot</span><span class="p">()</span>

<span class="c"># A vector of traces and a layout</span>
<span class="n">Plot</span><span class="p">{</span><span class="n">T</span><span class="o">&lt;:</span><span class="n">AbstractTrace</span><span class="p">}(</span><span class="n">data</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">{</span><span class="n">T</span><span class="p">},</span> <span class="n">layout</span><span class="o">::</span><span class="n">AbstractLayout</span><span class="p">)</span>

<span class="c"># A vector of traces -- default layout supplied</span>
<span class="n">Plot</span><span class="p">{</span><span class="n">T</span><span class="o">&lt;:</span><span class="n">AbstractTrace</span><span class="p">}(</span><span class="n">data</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">{</span><span class="n">T</span><span class="p">})</span>

<span class="c"># a single trace: will be put into a vector -- default layout supplied</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">data</span><span class="o">::</span><span class="n">AbstractTrace</span><span class="p">)</span>

<span class="c"># a single trace and a layout (trace put into a vector)</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">data</span><span class="o">::</span><span class="n">AbstractTrace</span><span class="p">,</span> <span class="n">layout</span><span class="o">::</span><span class="n">AbstractLayout</span><span class="p">)</span>
</pre></div>


<p>Notice that none of the recommended constructors have you pass the <code>divid</code>
field manually. This is an internal field used to allow the display and
unique identification of multiple plots in a single web page.</p>
<h3 id="convenience-methods">Convenience methods<a class="headerlink" href="#convenience-methods" title="Permanent link">¶</a></h3>
<p>There are also a number of convenience methods to the <code>Plot</code> function that will
attempt to construct the traces for you. They have the following signatures</p>
<div class="codehilite"><pre><span></span><span class="c"># Build a trace of type `kind` from x and y -- apply all kwargs to this trace</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">,</span> <span class="n">y</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">kind</span><span class="o">=</span><span class="s">&quot;scatter&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># Build one trace of type `kind` for each column of the matrix `y`. Repeat the</span>
<span class="c"># `x` argument for all traces. Apply `kwargs` identically to all traces</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">,</span> <span class="n">y</span><span class="o">::</span><span class="kt">AbstractMatrix</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">kind</span><span class="o">=</span><span class="s">&quot;scatter&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># For `x` and `y` with the same number of columns, build one trace of type</span>
<span class="c"># `kind` for each column pair, applying all `kwargs` identically do all traces</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">AbstractMatrix</span><span class="p">,</span> <span class="n">y</span><span class="o">::</span><span class="kt">AbstractMatrix</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">kind</span><span class="o">=</span><span class="s">&quot;scatter&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># For any array of eltype `_Scalar` (really data, see PlotlyJS._Scalar), call</span>
<span class="c"># the method `Plot(1:size(y, 1), y, l; kwargs...)` described above</span>
<span class="n">Plot</span><span class="p">{</span><span class="n">T</span><span class="o">&lt;:</span><span class="n">_Scalar</span><span class="p">}(</span><span class="n">y</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="n">T</span><span class="p">},</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># Create one trace by applying `f` at 50 evenly spaced points from `x0` to `x1`</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">f</span><span class="o">::</span><span class="kt">Function</span><span class="p">,</span> <span class="n">x0</span><span class="o">::</span><span class="kt">Number</span><span class="p">,</span> <span class="n">x1</span><span class="o">::</span><span class="kt">Number</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># Create one trace for each function `f ∈ fs` by applying `f` at 50 evenly</span>
<span class="c"># spaced points from `x0` to `x1`</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">fs</span><span class="o">::</span><span class="kt">AbstractVector</span><span class="p">{</span><span class="kt">Function</span><span class="p">},</span> <span class="n">x0</span><span class="o">::</span><span class="kt">Number</span><span class="p">,</span> <span class="n">x1</span><span class="o">::</span><span class="kt">Number</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># Construct one or more traces using data from the DataFrame `df` when possible</span>
<span class="c"># If `group` is a symbol and that symbol matches one of the column names of</span>
<span class="c"># `df`, make one trace for each unique value in the column `df[group]` (see</span>
<span class="c"># example below)</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">df</span><span class="o">::</span><span class="n">AbstractDataFrame</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">group</span><span class="o">=</span><span class="nb">nothing</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># Use the column `df[x]` as the x value on each trace. Similar for `y`</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">df</span><span class="o">::</span><span class="n">AbstractDataFrame</span><span class="p">,</span> <span class="n">x</span><span class="o">::</span><span class="kt">Symbol</span><span class="p">,</span> <span class="n">y</span><span class="o">::</span><span class="kt">Symbol</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">group</span><span class="o">=</span><span class="nb">nothing</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>

<span class="c"># Use the column `df[y]` as the y value on each trace</span>
<span class="n">Plot</span><span class="p">(</span><span class="n">df</span><span class="o">::</span><span class="n">AbstractDataFrame</span><span class="p">,</span> <span class="n">y</span><span class="o">::</span><span class="kt">Symbol</span><span class="p">,</span> <span class="n">l</span><span class="o">::</span><span class="n">Layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">();</span> <span class="n">group</span><span class="o">=</span><span class="nb">nothing</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>
</pre></div>


<p>For more information on how these methods work please see the docstring for the
<code>Plot</code> function by calling <code>?Plot</code> from the REPL.</p>
<p>Especially convenient is the <code>group</code> keyword argument when calling
<code>Plot(::AbstractDataFrame, ... ; ...)</code>. Here is an example below:</p>
<div class="codehilite"><pre><span></span><span class="gp">julia&gt;</span> <span class="k">using</span> <span class="n">RDatasets</span>

<span class="gp">julia&gt;</span> <span class="n">iris</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">(</span><span class="s">&quot;datasets&quot;</span><span class="p">,</span> <span class="s">&quot;iris&quot;</span><span class="p">);</span>

<span class="gp">julia&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="n">x</span><span class="o">=:</span><span class="n">SepalLength</span><span class="p">,</span> <span class="n">y</span><span class="o">=:</span><span class="n">SepalWidth</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&quot;markers&quot;</span><span class="p">,</span> <span class="n">marker_size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">group</span><span class="o">=:</span><span class="n">Species</span><span class="p">)</span>
<span class="go">data: [</span>
<span class="go">  &quot;scatter with fields marker, mode, name, type, x, and y&quot;,</span>
<span class="go">  &quot;scatter with fields marker, mode, name, type, x, and y&quot;,</span>
<span class="go">  &quot;scatter with fields marker, mode, name, type, x, and y&quot;</span>
<span class="go">]</span>

<span class="go">layout: &quot;layout with field margin&quot;</span>
</pre></div>


<p>which would result in the following plot</p>
<div id="96cd7dc8-c066-4ffe-b09e-952ba53e14bf" class="plotly-graph-div"></div>

<script>
window.PLOTLYENV=window.PLOTLYENV || {};
window.PLOTLYENV.BASE_URL="https://plot.ly";
Plotly.newPlot('96cd7dc8-c066-4ffe-b09e-952ba53e14bf', [{"y":[3.5,3.0,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1,3.7,3.4,3.0,3.0,4.0,4.4,3.9,3.5,3.8,3.8,3.4,3.7,3.6,3.3,3.4,3.0,3.4,3.5,3.4,3.2,3.1,3.4,4.1,4.2,3.1,3.2,3.5,3.6,3.0,3.4,3.5,2.3,3.2,3.5,3.8,3.0,3.8,3.2,3.7,3.3],"name":"setosa","type":"scatter","x":[5.1,4.9,4.7,4.6,5.0,5.4,4.6,5.0,4.4,4.9,5.4,4.8,4.8,4.3,5.8,5.7,5.4,5.1,5.7,5.1,5.4,5.1,4.6,5.1,4.8,5.0,5.0,5.2,5.2,4.7,4.8,5.4,5.2,5.5,4.9,5.0,5.5,4.9,4.4,5.1,5.0,4.5,4.4,5.0,5.1,4.8,5.1,4.6,5.3,5.0],"marker":{"size":8},"mode":"markers"},{"y":[3.2,3.2,3.1,2.3,2.8,2.8,3.3,2.4,2.9,2.7,2.0,3.0,2.2,2.9,2.9,3.1,3.0,2.7,2.2,2.5,3.2,2.8,2.5,2.8,2.9,3.0,2.8,3.0,2.9,2.6,2.4,2.4,2.7,2.7,3.0,3.4,3.1,2.3,3.0,2.5,2.6,3.0,2.6,2.3,2.7,3.0,2.9,2.9,2.5,2.8],"name":"versicolor","type":"scatter","x":[7.0,6.4,6.9,5.5,6.5,5.7,6.3,4.9,6.6,5.2,5.0,5.9,6.0,6.1,5.6,6.7,5.6,5.8,6.2,5.6,5.9,6.1,6.3,6.1,6.4,6.6,6.8,6.7,6.0,5.7,5.5,5.5,5.8,6.0,5.4,6.0,6.7,6.3,5.6,5.5,5.5,6.1,5.8,5.0,5.6,5.7,5.7,6.2,5.1,5.7],"marker":{"size":8},"mode":"markers"},{"y":[3.3,2.7,3.0,2.9,3.0,3.0,2.5,2.9,2.5,3.6,3.2,2.7,3.0,2.5,2.8,3.2,3.0,3.8,2.6,2.2,3.2,2.8,2.8,2.7,3.3,3.2,2.8,3.0,2.8,3.0,2.8,3.8,2.8,2.8,2.6,3.0,3.4,3.1,3.0,3.1,3.1,3.1,2.7,3.2,3.3,3.0,2.5,3.0,3.4,3.0],"name":"virginica","type":"scatter","x":[6.3,5.8,7.1,6.3,6.5,7.6,4.9,7.3,6.7,7.2,6.5,6.4,6.8,5.7,5.8,6.4,6.5,7.7,7.7,6.0,6.9,5.6,7.7,6.3,6.7,7.2,6.2,6.1,6.4,7.2,7.4,7.9,6.4,6.3,6.1,7.7,6.3,6.4,6.0,6.9,6.7,6.9,5.8,6.8,6.7,6.7,6.3,6.5,6.2,5.9],"marker":{"size":8},"mode":"markers"}],
          {"margin":{"r":50,"l":50,"b":50,"t":60}}, {showLink: false});

</script>

<h2 id="syncplots"><code>SyncPlot</code>s<a class="headerlink" href="#syncplots" title="Permanent link">¶</a></h2>
<p>A <code>Plot</code> is a pure Julia object and doesn't interact with plotly.js by itself.
This means that we can't view the actual plotly figure the data represents.</p>
<p>To do that we need to link the <code>Plot</code> to one or more display frontends.</p>
<p>To do this in a simple and reliable way we introduce the concept of a
<code>SyncPlot</code>, which is defined as:</p>
<div class="codehilite"><pre><span></span><span class="k">abstract</span> <span class="n">AbstractPlotlyDisplay</span>

<span class="n">struct</span> <span class="n">SyncPlot</span><span class="p">{</span><span class="n">TD</span><span class="o">&lt;:</span><span class="n">AbstractPlotlyDisplay</span><span class="p">}</span>
    <span class="n">plot</span><span class="o">::</span><span class="n">Plot</span>
    <span class="n">view</span><span class="o">::</span><span class="n">TD</span>
<span class="k">end</span>
</pre></div>


<p>As its name suggests, a <code>SyncPlot</code> will sync a plot with a frontend. To see the
figure behind a <code>SyncPlot</code> named <code>p</code> you can simply call <code>display(p)</code>.
The <code>display</code> of a <code>SyncPlot</code> follows the standard Julia mechanisms and
<code>display</code> called automatically if you ask Julia to echo back a <code>SyncPlot</code> at
the REPL or in a Jupyter notebook.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>Plot</code> function will create a new <code>Plot</code> object and the <code>plot</code> function
will create a new <code>SyncPlot</code>. Which frontend is selected will depend on
context: if the Jupyter notebook is active the <code>JupyterDisplay</code> is chosen,
otherwise the <code>ElectronDisplay</code> will be used. The <code>plot</code> function simply
constructs a <code>Plot</code> object and picks a default display by wrapping the
<code>Plot</code>in a <code>SyncPlot</code>. All methods for <code>Plot</code> apply similarly to <code>plot</code></p>
</div>
<p>As of the time of writing there are two supported frontends...</p>
<h3 id="electronplot"><code>ElectronPlot</code><a class="headerlink" href="#electronplot" title="Permanent link">¶</a></h3>
<p>The first subtype of <code>AbstractPlotlyDisplay</code> is <code>ElectronDisplay</code>. This display
will utilize <a href="https://github.com/JunoLab/Blink.jl">Blink.jl</a> to create a
dedicated display GUI for PlotlyJS using GitHub's
<a href="http://electron.atom.io">Electron</a>.</p>
<p>By hooking into Electron, we have full 2-way communication between Julia and
javascript. We are able to evaluate arbitrary javascript expressions as if we
were entering them at the browser's devtools javascript console. The output of
evaluated expressions can be returned to Julia and re-constructed into Julia
datatypes.</p>
<p>This enables many features:</p>
<ul>
<li>Updating attributes on a trace or the layout</li>
<li>Extending a trace by adding new attributes or appending to existing
attributes</li>
<li>Asking plotly.js to return the raw svg data for the plot, so we can further
process it and save to pdf, png, jpeg, or eps files</li>
<li>A steaming workflow where we can efficiently update portions of the plot</li>
<li>(<em>Not implemented yet</em>) using Julia functions as callbacks to
<a href="https://plot.ly/javascript/#chart-events">plotly.js events</a></li>
</ul>
<p>This is the most feature complete frontend and is a key feature of this
package.</p>
<p>A convenient typealias has been defined for <code>SyncPlot</code>s with the
<code>ElectronDisplay</code> frontend:</p>
<div class="codehilite"><pre><span></span><span class="k">typealias</span> <span class="n">ElectronPlot</span> <span class="n">SyncPlot</span><span class="p">{</span><span class="n">ElectronDisplay</span><span class="p">}</span>
</pre></div>


<p>Please note that the Electron frontend also allows PlotlyJS.jl figures to be
displayed inside the Atom text editor when using the
<a href="https://github.com/JunoLab/atom-julia-client">atom-julia-client</a> environment.</p>
<h3 id="jupyerplot"><code>JupyerPlot</code><a class="headerlink" href="#jupyerplot" title="Permanent link">¶</a></h3>
<p>We also have <code>JupyterDisplay &lt;: AbstractPlotlyDisplay</code>, which can be used to
display PlotlyJS figures in Jupyter notebooks. Because the notebook is inside
a running web browser we can make arbitrary calls to plotly.js, enabling many
of the features above.</p>
<p>However, communication within the notebook is only Julia -&gt; javascript right
now. This means that we have not implemented features that require Julia to
receive a return value from javascript. This includes obtaining raw svg data
for the plot as well as registering Julia functions as callbacks.</p>
<p>A <code>SyncPlot</code> with a <code>JupyterDisplay</code> also has a typealias:</p>
<div class="codehilite"><pre><span></span><span class="k">typealias</span> <span class="n">JupyterPlot</span> <span class="n">SyncPlot</span><span class="p">{</span><span class="n">JupyterDisplay</span><span class="p">}</span>
</pre></div>


<p>Please note that the <code>JupyterPlot</code> frontend also allows PlotlyJS.jl figures to
be viewed inside the Atom text editor when using the
<a href="https://github.com/nteract/hydrogen">hydrogen</a> package and inside the <a href="https://nteract.io">nteract
notebook</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>2 way communication between javascript and Julia is possible in the
notebook, it just has not been implemented</p>
</div>
          <aside class="copyright" role="note">
            
              Copyright &copy; 2016 <a href="http://spencerlyon.com/">Spencer Lyon</a> &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../building_traces_layouts/" title="Building Blocks">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Building Blocks
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../manipulating_plots/" title="Working with plots">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Working with plots
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'sglyon/PlotlyJS.jl';
    </script>
    <script src="../assets/javascripts/application-dfb6964a49.js"></script>
    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
        /* General initialization */
        ga('create', 'UA-36732392-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
        /* Track outbound links */
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
        /* Register handler to log search on blur */
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    
  </body>
</html>