<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Building Blocks · PlotlyJS</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><script src="https://cdn.plot.ly/plotly-1.54.7.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PlotlyJS</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../basics/">Preliminaries</a></li><li class="is-active"><a class="tocitem" href>Building Blocks</a><ul class="internal"><li><a class="tocitem" href="#Traces"><span>Traces</span></a></li><li><a class="tocitem" href="#Layouts"><span>Layouts</span></a></li><li><a class="tocitem" href="#attr"><span><code>attr</code></span></a></li><li><a class="tocitem" href="#Using-DataFrames"><span>Using <code>DataFrame</code>s</span></a></li></ul></li><li><a class="tocitem" href="../syncplots/">Putting it together</a></li><li><a class="tocitem" href="../manipulating_plots/">Working with plots</a></li><li><a class="tocitem" href="../styles/">Styles</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/3d/">3d</a></li><li><a class="tocitem" href="../examples/area/">Area</a></li><li><a class="tocitem" href="../examples/bar/">Bar</a></li><li><a class="tocitem" href="../examples/box_plots/">Box Plots</a></li><li><a class="tocitem" href="../examples/contour/">Contour</a></li><li><a class="tocitem" href="../examples/finance/">Financial Charts</a></li><li><a class="tocitem" href="../examples/heatmaps/">Heatmaps</a></li><li><a class="tocitem" href="../examples/histograms/">Histograms</a></li><li><a class="tocitem" href="../examples/line_scatter/">Line and Scatter</a></li><li><a class="tocitem" href="../examples/maps/">Maps</a></li><li><a class="tocitem" href="../examples/shapes/">Shapes</a></li><li><a class="tocitem" href="../examples/subplots/">Subplots</a></li><li><a class="tocitem" href="../examples/tables/">Tables</a></li><li><a class="tocitem" href="../examples/ternary/">Ternary</a></li><li><a class="tocitem" href="../examples/time_series/">Time Series</a></li><li><a class="tocitem" href="../examples/violin/">Violin</a></li></ul></li><li><a class="tocitem" href="../api/">API Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Building Blocks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Building Blocks</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaPlots/PlotlyJS.jl/blob/master/docs/src/building_traces_layouts.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Building-Blocks"><a class="docs-heading-anchor" href="#Building-Blocks">Building Blocks</a><a id="Building-Blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Building-Blocks" title="Permalink"></a></h1><p>Recall that the <code>Plotly.newPlot</code> javascript function expects to receive an array of <code>trace</code> objects and, optionally, a <code>layout</code> object. In this section we will learn how to build these object in Julia.</p><h2 id="Traces"><a class="docs-heading-anchor" href="#Traces">Traces</a><a id="Traces-1"></a><a class="docs-heading-anchor-permalink" href="#Traces" title="Permalink"></a></h2><p>A <code>Plot</code> instance will have a vector of <code>trace</code>s. These should each be a subtype of <code>AbstractTrace</code>.</p><p>PlotlyJS.jl defines one such subtype:</p><pre><code class="language-julia">mutable struct GenericTrace{T&lt;:AbstractDict{Symbol,Any}} &lt;: AbstractTrace
    kind::ASCIIString
    fields::T
end</code></pre><p>The <code>kind</code> field specifies the type of trace and the <code>fields</code> is an AbstractDict object that maps trace attributes to their values.</p><p>Let&#39;s consider an example. Suppose we would like to build the following JSON object:</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;scatter&quot;,
  &quot;x&quot;: [1, 2, 3, 4, 5],
  &quot;y&quot;: [1, 6, 3, 6, 1],
  &quot;mode&quot;: &quot;markers+text&quot;,
  &quot;name&quot;: &quot;Team A&quot;,
  &quot;text&quot;: [&quot;A-1&quot;, &quot;A-2&quot;, &quot;A-3&quot;, &quot;A-4&quot;, &quot;A-5&quot;],
  &quot;textposition&quot;: &quot;top center&quot;,
  &quot;textfont&quot;: {
    &quot;family&quot;:  &quot;Raleway, sans-serif&quot;
  },
  &quot;marker&quot;: { &quot;size&quot;: 12 }
}</code></pre><p>One way to do this in Julia is:</p><pre><code class="language-julia">fields = Dict{Symbol,Any}(:type =&gt; &quot;scatter&quot;,
                          :x =&gt; [1, 2, 3, 4, 5],
                          :y =&gt; [1, 6, 3, 6, 1],
                          :mode =&gt; &quot;markers+text&quot;,
                          :name =&gt; &quot;Team A&quot;,
                          :text =&gt; [&quot;A-1&quot;, &quot;A-2&quot;, &quot;A-3&quot;, &quot;A-4&quot;, &quot;A-5&quot;],
                          :textposition =&gt; &quot;top center&quot;,
                          :textfont =&gt; Dict(:family =&gt;  &quot;Raleway, sans-serif&quot;),
                          :marker =&gt; Dict(:size =&gt; 12))
GenericTrace(&quot;scatter&quot;, fields)</code></pre><pre class="documenter-example-output">scatter with fields marker, mode, name, text, textfont, textposition, type, x, and y
</pre><p>A more convenient syntax is:</p><pre><code class="language-julia">t1 = scatter(;x=[1, 2, 3, 4, 5],
              y=[1, 6, 3, 6, 1],
              mode=&quot;markers+text&quot;,
              name=&quot;Team A&quot;,
              text=[&quot;A-1&quot;, &quot;A-2&quot;, &quot;A-3&quot;, &quot;A-4&quot;, &quot;A-5&quot;],
              textposition=&quot;top center&quot;,
              textfont_family=&quot;Raleway, sans-serif&quot;,
              marker_size=12)</code></pre><pre class="documenter-example-output">scatter with fields marker, mode, name, text, textfont, textposition, type, x, and y
</pre><p>Notice a few things:</p><ul><li>The trace <code>type</code> became the function name. There is a similar method for all</li></ul><p>plotly.js traces types.</p><ul><li>All other trace attributes were set using keyword arguments. This allows us</li></ul><p>to avoid typing out the symbol prefix (<code>:</code>) and the arrows (<code>=&gt;</code>) that were necessary when constructing the <code>Dict</code></p><ul><li>We can set nested attributes using underscores. Notice that the JSON</li></ul><p><code>&quot;marker&quot;: { &quot;size&quot;: 12 }</code> was written <code>marker_size=12</code>.</p><p>We can verify that this is indeed equivalent JSON by printing the JSON: (note the order of the attributes is different, but the content is identical):</p><pre><code class="language-julia">print(JSON.json(t1, 2))</code></pre><pre class="documenter-example-output">{
  &quot;textfont&quot;: {
    &quot;family&quot;: &quot;Raleway, sans-serif&quot;
  },
  &quot;mode&quot;: &quot;markers+text&quot;,
  &quot;marker&quot;: {
    &quot;size&quot;: 12
  },
  &quot;textposition&quot;: &quot;top center&quot;,
  &quot;y&quot;: [
    1,
    6,
    3,
    6,
    1
  ],
  &quot;type&quot;: &quot;scatter&quot;,
  &quot;name&quot;: &quot;Team A&quot;,
  &quot;text&quot;: [
    &quot;A-1&quot;,
    &quot;A-2&quot;,
    &quot;A-3&quot;,
    &quot;A-4&quot;,
    &quot;A-5&quot;
  ],
  &quot;x&quot;: [
    1,
    2,
    3,
    4,
    5
  ]
}</pre><h3 id="Accessing-attributes"><a class="docs-heading-anchor" href="#Accessing-attributes">Accessing attributes</a><a id="Accessing-attributes-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-attributes" title="Permalink"></a></h3><p>If we then wanted to extract a particular attribute, we can do so using <code>getindex(t1, :attrname)</code>, or the syntactic sugar <code>t1[:attrname]</code>. Note that both symbols and strings can be used in a call to <code>getindex</code>:</p><pre><code class="language-julia-repl">julia&gt; t1[&quot;marker&quot;]
Dict{Any,Any} with 1 entry:
  :size =&gt; 12

julia&gt; t1[:marker]
Dict{Any,Any} with 1 entry:
  :size =&gt; 12</code></pre><p>To access a nested property use <code>parent.child</code></p><pre><code class="language-julia-repl">julia&gt; t1[&quot;textfont.family&quot;]
&quot;Raleway, sans-serif&quot;</code></pre><h3 id="Setting-additional-attributes"><a class="docs-heading-anchor" href="#Setting-additional-attributes">Setting additional attributes</a><a id="Setting-additional-attributes-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-additional-attributes" title="Permalink"></a></h3><p>We can also set additional attributes. Suppose we wanted to set <code>marker.color</code> to be red. We can do this with a call to <code>setindex!(t1, &quot;red&quot;, :marker_color)</code>, or equivalently <code>t1[&quot;marker_color&quot;] = &quot;red&quot;</code>:</p><pre><code class="language-julia-repl">julia&gt; t1[&quot;marker_color&quot;] = &quot;red&quot;
&quot;red&quot;

julia&gt; println(JSON.json(t1, 2))
{
  &quot;textfont&quot;: {
    &quot;family&quot;: &quot;Raleway, sans-serif&quot;
  },
  &quot;mode&quot;: &quot;markers+text&quot;,
  &quot;marker&quot;: {
    &quot;color&quot;: &quot;red&quot;,
    &quot;size&quot;: 12
  },
  &quot;textposition&quot;: &quot;top center&quot;,
  &quot;y&quot;: [
    1,
    6,
    3,
    6,
    1
  ],
  &quot;type&quot;: &quot;scatter&quot;,
  &quot;name&quot;: &quot;Team A&quot;,
  &quot;text&quot;: [
    &quot;A-1&quot;,
    &quot;A-2&quot;,
    &quot;A-3&quot;,
    &quot;A-4&quot;,
    &quot;A-5&quot;
  ],
  &quot;x&quot;: [
    1,
    2,
    3,
    4,
    5
  ]
}</code></pre><p>Notice how the <code>color</code> attribute was correctly added within the existing <code>marker</code> attribute (alongside <code>size</code>), instead of replacing the <code>marker</code> attribute.</p><p>You can also use this syntax to add completely new nested attributes:</p><pre><code class="language-julia-repl">julia&gt; t1[&quot;line_width&quot;] = 5
5

julia&gt; println(JSON.json(t1, 2))
{
  &quot;textfont&quot;: {
    &quot;family&quot;: &quot;Raleway, sans-serif&quot;
  },
  &quot;mode&quot;: &quot;markers+text&quot;,
  &quot;marker&quot;: {
    &quot;color&quot;: &quot;red&quot;,
    &quot;size&quot;: 12
  },
  &quot;line&quot;: {
    &quot;width&quot;: 5
  },
  &quot;textposition&quot;: &quot;top center&quot;,
  &quot;y&quot;: [
    1,
    6,
    3,
    6,
    1
  ],
  &quot;type&quot;: &quot;scatter&quot;,
  &quot;name&quot;: &quot;Team A&quot;,
  &quot;text&quot;: [
    &quot;A-1&quot;,
    &quot;A-2&quot;,
    &quot;A-3&quot;,
    &quot;A-4&quot;,
    &quot;A-5&quot;
  ],
  &quot;x&quot;: [
    1,
    2,
    3,
    4,
    5
  ]
}</code></pre><h2 id="Layouts"><a class="docs-heading-anchor" href="#Layouts">Layouts</a><a id="Layouts-1"></a><a class="docs-heading-anchor-permalink" href="#Layouts" title="Permalink"></a></h2><p>The <code>Layout</code> type is defined as</p><pre><code class="language-julia">mutable struct Layout{T&lt;:AbstractDict{Symbol,Any}} &lt;: AbstractLayout
    fields::T
end</code></pre><p>You can construct a layout using the same convenient keyword argument syntax that we used for traces:</p><pre><code class="language-julia-repl">julia&gt; l = Layout(;title=&quot;Penguins&quot;,
                   xaxis_range=[0, 42.0], xaxis_title=&quot;fish&quot;,
                   yaxis_title=&quot;Weight&quot;,
                   xaxis_showgrid=true, yaxis_showgrid=true,
                   legend_y=1.15, legend_x=0.7)
layout with fields legend, margin, title, xaxis, and yaxis

julia&gt; println(JSON.json(l, 2))
{
  &quot;xaxis&quot;: {
    &quot;showgrid&quot;: true,
    &quot;range&quot;: [
      0.0,
      42.0
    ],
    &quot;title&quot;: &quot;fish&quot;
  },
  &quot;legend&quot;: {
    &quot;y&quot;: 1.15,
    &quot;x&quot;: 0.7
  },
  &quot;margin&quot;: {
    &quot;l&quot;: 50,
    &quot;b&quot;: 50,
    &quot;r&quot;: 50,
    &quot;t&quot;: 60
  },
  &quot;title&quot;: &quot;Penguins&quot;,
  &quot;yaxis&quot;: {
    &quot;showgrid&quot;: true,
    &quot;title&quot;: &quot;Weight&quot;
  }
}</code></pre><h2 id="attr"><a class="docs-heading-anchor" href="#attr"><code>attr</code></a><a id="attr-1"></a><a class="docs-heading-anchor-permalink" href="#attr" title="Permalink"></a></h2><p>There is a special function named <code>attr</code> that allows you to apply the same keyword magic we saw in the trace and layout functions, but to nested attributes. Let&#39;s revisit the previous example, but use <code>attr</code> to build up our <code>xaxis</code> and <code>legend</code>:</p><pre><code class="language-julia-repl">julia&gt; l2 = Layout(;title=&quot;Penguins&quot;,
                    xaxis=attr(range=[0, 42.0], title=&quot;fish&quot;, showgrid=true),
                    yaxis_title=&quot;Weight&quot;, yaxis_showgrid=true,
                    legend=attr(x=0.7, y=1.15))
layout with fields legend, margin, title, xaxis, and yaxis

julia&gt; println(JSON.json(l2, 2))
{
  &quot;xaxis&quot;: {
    &quot;showgrid&quot;: true,
    &quot;range&quot;: [
      0.0,
      42.0
    ],
    &quot;title&quot;: &quot;fish&quot;
  },
  &quot;legend&quot;: {
    &quot;y&quot;: 1.15,
    &quot;x&quot;: 0.7
  },
  &quot;margin&quot;: {
    &quot;l&quot;: 50,
    &quot;b&quot;: 50,
    &quot;r&quot;: 50,
    &quot;t&quot;: 60
  },
  &quot;title&quot;: &quot;Penguins&quot;,
  &quot;yaxis&quot;: {
    &quot;showgrid&quot;: true,
    &quot;title&quot;: &quot;Weight&quot;
  }
}</code></pre><p>Notice we got the exact same output as before, but we didn&#39;t have to resort to building the <code>Dict</code> by hand <em>or</em> prefixing multiple arguments with <code>xaxis_</code> or <code>legend_</code>.</p><h2 id="Using-DataFrames"><a class="docs-heading-anchor" href="#Using-DataFrames">Using <code>DataFrame</code>s</a><a id="Using-DataFrames-1"></a><a class="docs-heading-anchor-permalink" href="#Using-DataFrames" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>New in version 0.6.0</p></div></div><p>You can also construct traces using the columns of any subtype of <code>AbstractDataFrame</code> (e.g. the <code>DataFrame</code> type from DataFrames.jl).</p><p>To demonstrate this functionality let&#39;s load the famous iris data set:</p><pre><code class="language-julia-repl">julia&gt; using DataFrames, RDatasets

julia&gt; iris = dataset(&quot;datasets&quot;, &quot;iris&quot;);

julia&gt; first(iris, 10)
10×5 DataFrame
│ Row │ SepalLength │ SepalWidth │ PetalLength │ PetalWidth │ Species │
│     │ Float64     │ Float64    │ Float64     │ Float64    │ Cat…    │
├─────┼─────────────┼────────────┼─────────────┼────────────┼─────────┤
│ 1   │ 5.1         │ 3.5        │ 1.4         │ 0.2        │ setosa  │
│ 2   │ 4.9         │ 3.0        │ 1.4         │ 0.2        │ setosa  │
│ 3   │ 4.7         │ 3.2        │ 1.3         │ 0.2        │ setosa  │
│ 4   │ 4.6         │ 3.1        │ 1.5         │ 0.2        │ setosa  │
│ 5   │ 5.0         │ 3.6        │ 1.4         │ 0.2        │ setosa  │
│ 6   │ 5.4         │ 3.9        │ 1.7         │ 0.4        │ setosa  │
│ 7   │ 4.6         │ 3.4        │ 1.4         │ 0.3        │ setosa  │
│ 8   │ 5.0         │ 3.4        │ 1.5         │ 0.2        │ setosa  │
│ 9   │ 4.4         │ 2.9        │ 1.4         │ 0.2        │ setosa  │
│ 10  │ 4.9         │ 3.1        │ 1.5         │ 0.1        │ setosa  │</code></pre><p>Suppose that we wanted to construct a scatter trace with the  <code>SepalLength</code> column as the x variable and the <code>SepalWidth</code> columns as the y variable. We do this by calling</p><pre><code class="language-julia-repl">julia&gt; my_trace = scatter(iris, x=:SepalLength, y=:SepalWidth, marker_color=:red)
scatter with fields marker, type, x, and y

julia&gt; [my_trace[:x][1:5] my_trace[:y][1:5]]
5×2 Array{Float64,2}:
 5.1  3.5
 4.9  3.0
 4.7  3.2
 4.6  3.1
 5.0  3.6

julia&gt; my_trace[:marker_color]
:red</code></pre><p>How does this work? The basic rule is that if the value of any keyword argument is a Julia Symbol (i.e. created with <code>:something</code>), then the function creating the trace checks if that symbol is one of the column names in the DataFrame. If so, it extracts the column from the DataFrame and sets that as the value for the keyword argument. Otherwise it passes the symbol directly through.</p><p>In the above example, when we constructed <code>my_trace</code> the value of the keyword argument <code>x</code> was set to the Symbol <code>:SepalLength</code>. This did match a column name from <code>iris</code> so that column was extracted and replaced <code>:SepalLength</code> as the value for the <code>x</code> argument. The same holds for <code>y</code> and <code>SepalWidth</code>.</p><p>However, when setting <code>marker_color=:red</code> we found that <code>:red</code> is not one of the column names, so the value for the <code>marker_color</code> keyword argument remained <code>:red</code>.</p><p>The DataFrame interface becomes more useful when constructing whole plots. See the <a href="../syncplots/#constructors">convenience methods</a> section of the documentation for more information.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>New in version 0.9.0</p></div></div><p>As of version 0.9.0, you can construct groups of traces using the DataFrame api. This is best understood by example, so let&#39;s see it in action:</p><pre><code class="language-julia-repl">julia&gt; iris = dataset(&quot;datasets&quot;, &quot;iris&quot;);

julia&gt; unique(iris[:Species])
3-element Array{String,1}:
 &quot;setosa&quot;
 &quot;versicolor&quot;
 &quot;virginica&quot;

julia&gt; traces = scatter(
           iris, group=:Species, x=:SepalLength, y=:SepalWidth, mode=&quot;markers&quot;, marker_size=8
       )
3-element Array{GenericTrace,1}:
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:x =&gt; [5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9  …  5.0, 4.5, 4.4, 5.0, 5.1, 4.8, 5.1, 4.6, 5.3, 5.0],:mode =&gt; &quot;markers&quot;,:y =&gt; [3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1  …  3.5, 2.3, 3.2, 3.5, 3.8, 3.0, 3.8, 3.2, 3.7, 3.3],:type =&gt; &quot;scatter&quot;,:name =&gt; CategoricalValue{String,UInt8} &quot;setosa&quot;,:marker =&gt; Dict{Any,Any}(:size =&gt; 8)))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:x =&gt; [7.0, 6.4, 6.9, 5.5, 6.5, 5.7, 6.3, 4.9, 6.6, 5.2  …  5.5, 6.1, 5.8, 5.0, 5.6, 5.7, 5.7, 6.2, 5.1, 5.7],:mode =&gt; &quot;markers&quot;,:y =&gt; [3.2, 3.2, 3.1, 2.3, 2.8, 2.8, 3.3, 2.4, 2.9, 2.7  …  2.6, 3.0, 2.6, 2.3, 2.7, 3.0, 2.9, 2.9, 2.5, 2.8],:type =&gt; &quot;scatter&quot;,:name =&gt; CategoricalValue{String,UInt8} &quot;versicolor&quot;,:marker =&gt; Dict{Any,Any}(:size =&gt; 8)))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:x =&gt; [6.3, 5.8, 7.1, 6.3, 6.5, 7.6, 4.9, 7.3, 6.7, 7.2  …  6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 6.3, 6.5, 6.2, 5.9],:mode =&gt; &quot;markers&quot;,:y =&gt; [3.3, 2.7, 3.0, 2.9, 3.0, 3.0, 2.5, 2.9, 2.5, 3.6  …  3.1, 3.1, 2.7, 3.2, 3.3, 3.0, 2.5, 3.0, 3.4, 3.0],:type =&gt; &quot;scatter&quot;,:name =&gt; CategoricalValue{String,UInt8} &quot;virginica&quot;,:marker =&gt; Dict{Any,Any}(:size =&gt; 8)))

julia&gt; [t[:name] for t in traces]
3-element CategoricalArray{String,1,UInt8}:
 &quot;setosa&quot;
 &quot;versicolor&quot;
 &quot;virginica&quot;</code></pre><p>Notice how there are three <code>Species</code> in the <code>iris</code> DataFrame, and when passing <code>group=:Species</code> to <code>scatter</code> we obtained three traces.</p><p>We can pass a <code>Vector{Symbol}</code> as group, to split the data on the value in more than one column:</p><pre><code class="language-julia-repl">julia&gt; tips = dataset(&quot;reshape2&quot;, &quot;tips&quot;);

julia&gt; unique(tips[:Sex])
2-element Array{String,1}:
 &quot;Female&quot;
 &quot;Male&quot;

julia&gt; unique(tips[:Day])
4-element Array{String,1}:
 &quot;Sun&quot;
 &quot;Sat&quot;
 &quot;Thur&quot;
 &quot;Fri&quot;

julia&gt; traces = violin(tips, group=[:Sex, :Day], x=:TotalBill, orientation=&quot;h&quot;)
8-element Array{GenericTrace,1}:
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Female, Fri)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [5.75, 16.32, 22.75, 11.35, 15.38, 13.42, 15.98, 16.27, 10.09]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Female, Sat)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [20.29, 15.77, 19.65, 15.06, 20.69, 16.93, 26.41, 16.45, 3.07, 17.07  …  10.59, 10.63, 12.76, 13.27, 28.17, 12.9, 30.14, 22.12, 35.83, 27.18]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Female, Sun)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [16.99, 24.59, 35.26, 14.83, 10.33, 16.97, 10.29, 34.81, 25.71, 17.31, 29.85, 25.0, 13.39, 16.21, 17.51, 9.6, 20.9, 18.15]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Female, Thur)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [10.07, 34.83, 10.65, 12.43, 24.08, 13.42, 12.48, 29.8, 14.52, 11.38  …  18.64, 11.87, 19.81, 43.11, 13.0, 12.74, 13.0, 16.4, 16.47, 18.78]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Male, Fri)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [28.97, 22.49, 40.17, 27.28, 12.03, 21.01, 12.46, 12.16, 8.58, 13.42]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Male, Sat)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [20.65, 17.92, 39.42, 19.82, 17.81, 13.37, 12.69, 21.7, 9.55, 18.35  …  15.69, 11.61, 10.77, 15.53, 10.07, 12.6, 32.83, 29.03, 22.67, 17.82]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Male, Sun)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [10.34, 21.01, 23.68, 25.29, 8.77, 26.88, 15.04, 14.78, 10.27, 15.42  …  34.63, 34.65, 23.33, 45.35, 23.17, 40.55, 20.69, 30.46, 23.1, 15.69]))
 GenericTrace{Dict{Symbol,Any}}(Dict{Symbol,Any}(:type =&gt; &quot;violin&quot;,:name =&gt; &quot;(Male, Thur)&quot;,:orientation =&gt; &quot;h&quot;,:x =&gt; [27.2, 22.76, 17.29, 19.44, 16.66, 32.68, 15.98, 13.03, 18.28, 24.71  …  9.78, 7.51, 28.44, 15.48, 16.58, 7.56, 10.34, 13.51, 18.71, 20.53]))

julia&gt; [t[:name] for t in traces]
8-element Array{String,1}:
 &quot;(Female, Fri)&quot;
 &quot;(Female, Sat)&quot;
 &quot;(Female, Sun)&quot;
 &quot;(Female, Thur)&quot;
 &quot;(Male, Fri)&quot;
 &quot;(Male, Sat)&quot;
 &quot;(Male, Sun)&quot;
 &quot;(Male, Thur)&quot;</code></pre><p>Also new in version 0.9.0, when using the DataFrame API you are allowed to pass a function as the value for a keyword argument. When the each trace is constructed, the value will be replaced by calling the function on whatever DataFrame is being used. When used in conjunction with the <code>group</code> argument, this allows you to <em>compute</em> group specific trace attributes on the fly.</p><p>See the docstring for <code>GenericTrace</code> and the <code>violin_side_by_side</code> example on the <a href="../examples/violin/#Violin">Violin</a> example page more details.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basics/">« Preliminaries</a><a class="docs-footer-nextpage" href="../syncplots/">Putting it together »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 20 August 2020 19:47">Thursday 20 August 2020</span>. Using Julia version 1.5.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
